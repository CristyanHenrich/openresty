worker_processes  1;
error_log /dev/stderr warn;

events {
    worker_connections 1024;
}

env JWT_SECRET;

http {
    lua_package_path "/usr/local/openresty/lualib/?.lua;;";

    server {
        listen 8082;

        server_name api.playground.dev.br;

        location / {
            access_by_lua_file /bearer.lua;
            default_type 'application/json';

            return 200 "$http_x_ip, $http_x_socket, $http_x_api";
        }
    }
}
